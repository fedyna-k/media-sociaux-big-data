services:

  firewall:
    build: ./firewall
    ports:
      - "80:80"
    volumes:
      - logs:/logs
    depends_on:
      - web-server

  web-server:
    build: ./web-server
    depends_on:
      - machine-learning
      - database
    volumes:
      - logs:/logs

  machine-learning:
    build: ./machine-learning
    volumes:
      - logs:/logs

  database:
    build: ./database
    volumes:
      - logs:/logs


volumes:
  logs: